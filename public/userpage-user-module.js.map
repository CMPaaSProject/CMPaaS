{"version":3,"sources":["webpack:///./src/app/userpage/user.component.html","webpack:///./src/app/userpage/user.component.ts","webpack:///./src/app/userpage/user.module.ts","webpack:///./src/app/userpage/user.routing.ts"],"names":[],"mappings":"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","file":"userpage-user-module.js","sourcesContent":["module.exports = \"<div class=\\\"main-content\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-8\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n          <div class=\\\"card-header card-header-icon card-header-rose\\\">\\r\\n            <div class=\\\"card-icon\\\">\\r\\n              <i class=\\\"material-icons\\\">perm_identity</i>\\r\\n            </div>\\r\\n            <h4 class=\\\"card-title\\\">Edit Profile -\\r\\n              <small class=\\\"category\\\">Your profile informations</small>\\r\\n            </h4>\\r\\n          </div>\\r\\n          <div class=\\\"card-body\\\">\\r\\n            <form>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-md-4\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"bmd-label-floating\\\">Username (uneditable)</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" value=\\\"{{editUser.username}}\\\" disabled>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-5\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"bmd-label-floating\\\">E-Mail</label>\\r\\n                    <input type=\\\"email\\\" class=\\\"form-control\\\" value=\\\"{{editUser.email}}\\\" [disabled]=\\\"!editing\\\" #email (blur)='editUser.email = email.value'>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-3\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"bmd-label-floating\\\">Registered at</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" value=\\\"{{editUser.created | date:'medium'}}\\\" disabled>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-md-4\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"bmd-label-floating\\\">First Name</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" value=\\\"{{editUser.firstname}}\\\" [disabled]=\\\"!editing\\\" #firstname (blur)='editUser.firstname = firstname.value'>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-8\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"bmd-label-floating\\\">Surname</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" value=\\\"{{editUser.surname}}\\\" [disabled]=\\\"!editing\\\" #surname (blur)='editUser.surname = surname.value'>\\r\\n                  </div>\\r\\n                </div>  \\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-md-4\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"bmd-label-floating\\\">Country</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" value=\\\"{{editUser.locInfo.country}}\\\" [disabled]=\\\"!editing\\\" #country (blur)='editUser.locInfo.country = country.value'>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-4\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"bmd-label-floating\\\">Region / State</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" value=\\\"{{editUser.locInfo.regionName}}\\\" [disabled]=\\\"!editing\\\" #region (blur)='editUser.locInfo.regionName = region.value'>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-4\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"bmd-label-floating\\\">City</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" value=\\\"{{editUser.locInfo.city}}\\\" [disabled]=\\\"!editing\\\" #city (blur)='editUser.locInfo.city = city.value'>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-md-12\\\">\\r\\n                  <div class=\\\"form-group\\\">\\r\\n                    <label>About Me</label>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                      <textarea class=\\\"form-control\\\" rows=\\\"5\\\" [disabled]=\\\"!editing\\\" [(ngModel)]=\\\"editUser.description\\\" name=\\\"description\\\"></textarea>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <button mat-raised-button type=\\\"submit\\\" class=\\\"btn btn-rose pull-right\\\" (click)=\\\"edit()\\\">{{editing?'Send':'Edit'}}</button>\\r\\n              <div class=\\\"clearfix\\\"></div>\\r\\n            </form>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-4\\\">\\r\\n        <div class=\\\"card card-profile\\\">\\r\\n          <div class=\\\"card-avatar\\\">\\r\\n            <div class=\\\"picture\\\">\\r\\n              <img src=\\\"{{user.profile_picture}}\\\" class=\\\"picture-src\\\" id=\\\"wizardPicturePreview\\\" title=\\\"\\\" />\\r\\n              <input type=\\\"file\\\" id=\\\"wizard-picture\\\" #wizardPicture title=\\\"Click to change your profile picture\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"card-body\\\">\\r\\n            <h6 class=\\\"card-category text-gray\\\">{{user.username}} </h6>\\r\\n            <h4 class=\\\"card-title\\\">{{user.firstname + ' ' + user.surname}}</h4>\\r\\n            <p class=\\\"card-description\\\">\\r\\n              {{user.description}}\\r\\n            </p>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { MeService } from '../_services/me/me.service';\r\nimport { User } from '../_models/user.model';\r\nimport { AuthService } from '../_services/index.service';\r\nimport { SidebarService } from '../_services/sidebar/sidebar.service';\r\n\r\ndeclare const $:any;\r\n\r\ninterface FileReaderEventTarget extends EventTarget {\r\n    result: string;\r\n}\r\n\r\ninterface FileReaderEvent extends Event {\r\n    target: FileReaderEventTarget;\r\n    getMessage(): string;\r\n}\r\n\r\n@Component({\r\n    selector: 'app-user-cmp',\r\n    templateUrl: 'user.component.html'\r\n})\r\n\r\nexport class UserComponent implements OnInit{\r\n    private user:User;\r\n    private editUser:User;\r\n    private editing:boolean = false;\r\n\r\n    @ViewChild('wizardPicture') el:ElementRef;\r\n\r\n    constructor(public meService:MeService, private authService:AuthService, private sidebarService:SidebarService){\r\n        this.user = JSON.parse(this.authService.getCurrentUser());\r\n        this.editUser = JSON.parse(this.authService.getCurrentUser());\r\n    };\r\n\r\n\r\n    ngOnInit(): void {\r\n        // Prepare the preview for profile picture\r\n        $(this.el.nativeElement).change((e, args) => {\r\n            const input = $(this.el.nativeElement);\r\n            const file:File = input[0].files[0]; \r\n            this.meService.sendProfileImage(file).subscribe(_=>{\r\n                this.sidebarService.updateUserProfile();\r\n            });\r\n            if (input[0].files && input[0].files[0]) {\r\n                const reader = new FileReader();\r\n                reader.onload = function (e: FileReaderEvent) {\r\n                    $('#wizardPicturePreview').attr('src', e.target.result).fadeIn('slow');\r\n                };\r\n                reader.readAsDataURL(input[0].files[0]);\r\n            }\r\n            \r\n        });\r\n    }\r\n    edit(){\r\n        if(this.editing){\r\n            this.meService.updateInfo(this.editUser).subscribe(res => {\r\n                this.user = res;\r\n                this.editUser = res;\r\n            });\r\n        }\r\n        this.editing = !this.editing;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { UserComponent } from './user.component';\r\nimport { UserRoutes } from './user.routing';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(UserRoutes),\r\n        FormsModule\r\n    ],\r\n    declarations: [UserComponent]\r\n})\r\n\r\nexport class UserModule {}\r\n","import { Routes } from '@angular/router';\r\n\r\nimport { UserComponent } from './user.component';\r\n\r\nexport const UserRoutes: Routes = [\r\n    {\r\n\r\n      path: '',\r\n      children: [ {\r\n        path: 'pages/user',\r\n        component: UserComponent\r\n    }]\r\n}\r\n];\r\n"],"sourceRoot":""}